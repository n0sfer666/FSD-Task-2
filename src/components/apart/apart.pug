include ../rate/rate

mixin apart({apart = "888", isLux = true, price = "9990", rate = 5, reviews = 145 } = {})
  -
    let is888 = apart === "888"
    let slides = ["", "", "", ""].map( (slide, index) => {
      return `img/img-${apart}-${(index+1)}.jpg`
    })
  .apart
    .apart__slider.js-apart__slider
      each val, i in slides
        .apart__slider-image
          img(src=val, alt=`apart-${i+1}`)
    .apart__text
      .apart__header
        .apart__header-title
          h1.apart__header-title-text
            span.apart__header-number № 
            | #{apart}
            if isLux
              h3.apart__header-title-lux  люкс
        span.apart-price
          b.js-apart__price #{price}₽ 
          | в сутки
      .apart__hrow
      .apart__rate
        .apart__rate-stars
          +rate({rate: rate})
        .apart__rate-text
          -
            let isNullReviews = reviews === 0
            let isFrom2to4Reviews = reviews > 1 && reviews < 5
          if(isNullReviews)
            span
              b 0 
              | Отзывов
          if(reviews === 1)
            span
              b 1 
              | Отзыв
          if(isFrom2to4Reviews)
            span
              b #{reviews} 
              | Отзыва
          if(reviews >= 5)
            span
            b #{reviews} 
            | Отзывов