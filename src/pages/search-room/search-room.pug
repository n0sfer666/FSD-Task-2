include ../../components/_base/pug/head

include ../../components/header/header
include ../../components/footer/footer

include ../../components/cards/appart/appart

include ../../components/_form-elements/date-dropdown/date-dropdown
include ../../components/_form-elements/dropdown/dropdown
include ../../components/_form-elements/expandable-checkbox-list/expandable-checkbox-list
include ../../components/_form-elements/range-slider/range-slider
include ../../components/_form-elements/_buttons/button/button
include ../../components/_form-elements/_buttons/checkbox/checkbox
include ../../components/_form-elements/_buttons/rich-checkbox/rich-checkbox



doctype html
html
  +head({title: "Search-room", page: "search-room"})
  body
    header
      -
        let config = {}
        let links = []

        links.push({title: "О нас"})
        links.push({type: "popup", title: "Услуги"})
        links.push({title: "Вакансии"})
        links.push({title: "Новости"})
        links.push({type: "popup", title: "Соглашения"})

        config.links = links
        config.loginTitle = "Войти"
        config.signupTitle = "Зарегистрироваться"

      +header(config)
      
    main.search-room
      aside.search-room--menu
        h3.label Даты пребывания в отеле
        +date-dropdown({jsClass: "daysIn"})
        
        h3.label Гости
        +dropdown({})

        +range-slider({title: "Диапазон цены"})
        p.search-room--description Стоимость за сутки пребывания в номере

        h3.label checkbox buttons
        +checkbox({title: "Можно курить"})
        +checkbox({title: "Можно с питомцами", isChecked: true})
        +checkbox({title: "Можно пригласить гостей (до 10 человек)", isChecked: true})

        h3.label Доступность
        -
          config = {}
          config.title = "Широкий коридор"
          config.description = "Ширина коридоров в номере не менее 91см"
        +rich-checkbox(config)
        -
          config.title = "Помощник для инвалидов"
          config.description = "На 1 этаже вас встретит специалист и проводит до номера."
        +rich-checkbox(config)

        h3.label удобства номера
        +dropdown({isGuests: false})

        -
          let expandList = []
          expandList.push({title: "Завтрак"})
          expandList.push({title: "Письменный стол", isChecked: true})
          expandList.push({title: "Стул для кормления", isChecked: true})
          expandList.push({title: "Кроватка", isChecked: true})
          expandList.push({title: "Телевизор"})
          expandList.push({title: "Шампунь"})
          expandList.push({title: "Телевизор"})
          expandList.push({title: "Шампунь"})
        +expandable-checkbox-list({title: "Дополнительные удобства", list: expandList})

      section.search-room--result
        h1 Номера, которые мы для вас подобрали
        .search-room--data-source
          -
            let apparts = []
            config = {}

            config.appart = "888"
            config.isLux = true
            config.price = "9990"
            config.rate = "5"
            config.reviews = 145
            apparts.push(config)
            config = {}

            config.appart = "840"
            config.isLux = false
            config.price = "9900"
            config.rate = "4"
            config.reviews = 65
            apparts.push(config)
            config = {}

            config.appart = "980"
            config.isLux = true
            config.price = "8500"
            config.rate = "3"
            config.reviews = 33
            apparts.push(config)
            config = {}

            config.appart = "856"
            config.isLux = false
            config.price = "7300"
            config.rate = "5"
            config.reviews = 19
            apparts.push(config)
            config = {}

            config.appart = "740"
            config.isLux = false
            config.price = "6000"
            config.rate = "4"
            config.reviews = 44
            apparts.push(config)
            config = {}

            config.appart = "982"
            config.isLux = false
            config.price = "5800"
            config.rate = "3"
            config.reviews = 56
            apparts.push(config)
            config = {}

            config.appart = "678"
            config.isLux = false
            config.price = "5500"
            config.rate = "5"
            config.reviews = 45
            apparts.push(config)
            config = {}

            config.appart = "450"
            config.isLux = false
            config.price = "5300"
            config.rate = "4"
            config.reviews = 39
            apparts.push(config)
            config = {}

            config.appart = "350"
            config.isLux = false
            config.price = "5000"
            config.rate = "3"
            config.reviews = 77
            apparts.push(config)
            config = {}

            config.appart = "666"
            config.isLux = false
            config.price = "5000"
            config.rate = "5"
            config.reviews = 25
            apparts.push(config)
            config = {}

            config.appart = "444"
            config.isLux = false
            config.price = "5000"
            config.rate = "3"
            config.reviews = 15
            apparts.push(config)
            config = {}

            config.appart = "352"
            config.isLux = false
            config.price = "5000"
            config.rate = "3"
            config.reviews = 55
            apparts.push(config)
            config = {}

            let appartsLength = apparts.length
            let previousIndex = apparts.length - 1

            for(let i = 0; i < (15 * appartsLength); i++) {
              let randomIndex = Math.floor(Math.random() * appartsLength)

              while(randomIndex === previousIndex) {
                randomIndex = Math.floor(Math.random() * appartsLength)
              }
              previouseIndex = randomIndex

              apparts.push(apparts[randomIndex])
            }

          each value in apparts
            .search-room--appart
              +appart(value)

        .search-room--data-output.js-search-room--data-output
        .search-room--pagination
          .js-search-room--pagination

    footer
      -
        config = {}
        links = []

        config.description = "Бронирование номеров в лучшем отеле 2019 года по версии ассоциации «Отельные взгляды»"
        
        config.navigation = {title: "навигация"}
        links = []
        links.push("О нас")
        links.push("Новости")
        links.push("Служба поддержки")
        links.push("Услуги")
        config.navigation.links = links

        config.aboutUs = {title: "о нас"}
        links = []
        links.push("О сервисе")
        links.push("Наша команда")
        links.push("Вакансии")
        links.push("Инвесторы")
        config.aboutUs.links = links

        config.support = {title: "служба поддержки"}
        links = []
        links.push("Соглашения")
        links.push("Сообщества")
        links.push("Связь с нами")
        config.support.links = links

        config.subscription = {title: "Подписка"}
        config.subscription.description = "Получайте специальные предложения и новости сервиса"
        config.subscription.placeholder = "Email"

        config.copyright = "отель. Все права зачищены."

      +footer(config)